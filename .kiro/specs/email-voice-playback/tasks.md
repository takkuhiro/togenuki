# Implementation Plan

## Tasks

### Phase 1: „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂü∫Áõ§ÊßãÁØâ

- [x] 1. Backend „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
- [x] 1.1 FastAPI „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÂàùÊúüÂåñ
  - Python 3.10+ „ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊßãÊàê„Çí‰ΩúÊàê„Åô„Çã
  - FastAPI „Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„Å®ÂøÖË¶Å„Å™‰æùÂ≠òÈñ¢‰øÇ„Çí„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Åô„Çã
  - ÈùûÂêåÊúüÂá¶ÁêÜÔºàasync/awaitÔºâ„ÅÆÂü∫Êú¨ÊßãÈÄ†„ÇíÊ∫ñÂÇô„Åô„Çã
  - Áí∞Â¢ÉÂ§âÊï∞ÁÆ°ÁêÜ„ÅÆ‰ªïÁµÑ„Åø„ÇíÊßãÁØâ„Åô„Çã
  - _Requirements: 1.1, 1.2_

- [x] 1.2 (P) „Éá„Éº„Çø„Éô„Éº„Çπ„Çπ„Ç≠„Éº„Éû„Å®„É¢„Éá„É´ÂÆöÁæ©
  - PostgreSQL Áî®„ÅÆ„ÉÜ„Éº„Éñ„É´ÂÆöÁæ©„Çí‰ΩúÊàê„Åô„ÇãÔºàusers, contacts, emailsÔºâ
  - SQLAlchemy ORM „É¢„Éá„É´„ÇíÂÆüË£Ö„Åô„Çã
  - „Éû„Ç§„Ç∞„É¨„Éº„Ç∑„Éß„É≥ÁÆ°ÁêÜ„ÅÆ‰ªïÁµÑ„Åø„ÇíÊßãÁØâ„Åô„Çã
  - OAuth „Éà„Éº„ÇØ„É≥‰øùÂ≠òÁî®„ÅÆ„Ç´„É©„É†„ÇíÂê´„ÇÅ„ÇãÔºàgmail_refresh_token, gmail_access_token, gmail_token_expires_atÔºâ
  - _Requirements: 1.5, 6.5_

- [x] 1.3 (P) Frontend „Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆViteÁßªË°å
  - Êó¢Â≠ò„ÅÆCreate React App„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíVite„Å´ÁßªË°å„Åô„Çã
  - TypeScriptË®≠ÂÆö„ÇíË™øÊï¥„Åô„Çã
  - ÈñãÁô∫„Çµ„Éº„Éê„Éº„Å®„Éì„É´„ÉâË®≠ÂÆö„ÇíÁ¢∫Ë™ç„Åô„Çã
  - _Requirements: 4.1_

#### üìã Phase 1 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **ÈñãÁô∫ËÄÖ„Å∏‰æùÈ†º**: ‰ª•‰∏ã„ÅÆ‰ΩúÊ•≠„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
>
> **Google Cloud Console ‰ΩúÊ•≠**:
> - [x] Cloud SQL (PostgreSQL) „Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàê„Åô„ÇãÔºàTerraform „Åæ„Åü„ÅØ „Ç≥„É≥„ÇΩ„Éº„É´Ôºâ
> - [x] „Éá„Éº„Çø„Éô„Éº„Çπ„Å®„É¶„Éº„Ç∂„Éº„Çí‰ΩúÊàê„Åô„Çã
> - [x] Êé•Á∂öÊÉÖÂ†±„ÇíÁí∞Â¢ÉÂ§âÊï∞„Å´Ë®≠ÂÆö„Åô„Çã
>
> **Âãï‰ΩúÁ¢∫Ë™ç**:
> - [x] `npm run dev` „ÅßViteÈñãÁô∫„Çµ„Éº„Éê„Éº„ÅåËµ∑Âãï„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [x] Backend „ÅÆ FastAPI „Çµ„Éº„Éê„Éº„ÅåËµ∑Âãï„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç

---

### Phase 2: Ë™çË®ºÂü∫Áõ§

- [x] 2. Firebase Ë™çË®º„Å®Gmail OAuth ÈÄ£Êê∫
- [x] 2.1 Firebase Authentication „Éü„Éâ„É´„Ç¶„Çß„Ç¢ÂÆüË£Ö
  - Firebase Admin SDK „Çí‰ΩøÁî®„Åó„Åü„Éà„Éº„ÇØ„É≥Ê§úË®ºÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Authorization „Éò„ÉÉ„ÉÄ„Éº„Åã„Çâ„Éà„Éº„ÇØ„É≥„ÇíÊäΩÂá∫„Åô„Çã
  - ÁÑ°Âäπ„Å™„Éà„Éº„ÇØ„É≥„Å´ÂØæ„Åó„Å¶ 401 Unauthorized „ÇíËøî„Åô
  - „É¶„Éº„Ç∂„ÉºÊÉÖÂ†±Ôºàfirebase_uid, emailÔºâ„Çí„É™„ÇØ„Ç®„Çπ„Éà„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà„Å´Ê≥®ÂÖ•„Åô„Çã
  - _Requirements: 6.3, 6.4, 6.5_

- [x] 2.2 Gmail OAuth „Çµ„Éº„Éì„ÇπÂÆüË£Ö
  - OAuth Ë™çË®ºURLÁîüÊàêÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„ÇãÔºàstate „Éë„É©„É°„Éº„ÇøÂê´„ÇÄÔºâ
  - Ë™çË®º„Ç≥„Éº„Éâ„Çí„Éà„Éº„ÇØ„É≥„Å´‰∫§Êèõ„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Refresh Token / Access Token „Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠ò„Åô„Çã
  - Access Token „ÅÆÊúâÂäπÊúüÈôêÂàá„ÇåÊôÇ„Å´Ëá™ÂãïÊõ¥Êñ∞„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 1.3, 6.1, 6.2_

- [x] 2.3 Gmail OAuth API „Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÂÆüË£Ö
  - GET /api/auth/gmail/url „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - POST /api/auth/gmail/callback „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - GET /api/auth/gmail/status „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 1.3, 6.1, 6.2_

- [x] 2.4 (P) Frontend Ë™çË®º„Ç≥„É≥„ÉÜ„Ç≠„Çπ„ÉàÂÆüË£Ö
  - Firebase Authentication „Å®„ÅÆÈÄ£Êê∫„ÇíÂÆüË£Ö„Åô„Çã
  - Google Sign-In „Éï„É≠„Éº„ÇíÂÆüË£Ö„Åô„Çã
  - ID Token „ÅÆÂèñÂæó„Éª‰øùÊåÅ„ÉªËá™ÂãïÊõ¥Êñ∞Ê©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Gmail ÈÄ£Êê∫Áä∂ÊÖã„ÅÆÁÆ°ÁêÜÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Gmail ÈÄ£Êê∫„Éú„Çø„É≥„Å® OAuth „Éï„É≠„Éº„ÅÆ UI „ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 6.1, 6.2_

#### üìã Phase 2 ÈñãÂßãÂâç„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **ÈñãÁô∫ËÄÖ„Å∏‰æùÈ†º**: Phase 2 „ÅÆ„Ç≥„Éº„ÉâÂÆüË£ÖÂâç„Å´‰ª•‰∏ã„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
>
> **Firebase Console ‰ΩúÊ•≠**:
> - [x] Firebase „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åô„ÇãÔºàGCP „Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å®Á¥ê‰ªò„ÅëÔºâ
> - [x] Authentication > Sign-in method „Åß **Google** „ÇíÊúâÂäπÂåñ„Åô„Çã
> - [x] „Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö > „Çµ„Éº„Éì„Çπ„Ç¢„Ç´„Ç¶„É≥„Éà > Êñ∞„Åó„ÅÑÁßòÂØÜÈçµ„ÇíÁîüÊàêÔºàJSONÔºâ
> - [x] Firebase SDK „ÅÆË®≠ÂÆöÊÉÖÂ†±ÔºàapiKey, authDomain Á≠âÔºâ„ÇíÂèñÂæó„Åô„Çã
>
> **Google Cloud Console ‰ΩúÊ•≠**:
> - [x] APIs & Services > OAuth consent screen „ÇíË®≠ÂÆö„Åô„ÇãÔºàExternal, TestingÔºâ
> - [x] Test users „Å´ÈñãÁô∫„É°„É≥„Éê„Éº„ÅÆ Gmail „Ç¢„Éâ„É¨„Çπ„ÇíËøΩÂä†„Åô„Çã
> - [x] APIs & Services > Credentials > OAuth 2.0 Client ID „Çí‰ΩúÊàê„Åô„ÇãÔºàWeb applicationÔºâ
> - [x] ÊâøË™çÊ∏à„Åø„É™„ÉÄ„Ç§„É¨„ÇØ„Éà URI „ÇíË®≠ÂÆö„Åô„Çã
> - [x] Client ID „Å® Client Secret „ÇíÁí∞Â¢ÉÂ§âÊï∞„Å´Ë®≠ÂÆö„Åô„Çã
> - [x] Gmail API „ÇíÊúâÂäπÂåñ„Åô„Çã

#### üìã Phase 2 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **Âãï‰ΩúÁ¢∫Ë™ç**:
> - [x] Frontend „Åß Google „É≠„Ç∞„Ç§„É≥„Åå„Åß„Åç„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [x] Gmail ÈÄ£Êê∫„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„ÄÅOAuth Ë™çË®º„Éï„É≠„Éº„ÅåÂãï‰Ωú„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [x] Ë™çË®ºÂæå„Å´ Backend „Åß Refresh Token „Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç

---

### Phase 3: „É°„Éº„É´Âèó‰ø°„ÉªÂá¶ÁêÜ„Éë„Ç§„Éó„É©„Ç§„É≥

- [x] 3. Webhook „Å®„É°„Éº„É´Âá¶ÁêÜ
- [x] 3.1 Pub/Sub Webhook „Éè„É≥„Éâ„É©„ÉºÂÆüË£Ö
  - POST /api/webhook/gmail „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - Pub/Sub „É°„ÉÉ„Çª„Éº„Ç∏„ÅÆ„Éá„Ç≥„Éº„ÉâÂá¶ÁêÜ„ÇíÂÆüË£Ö„Åô„Çã
  - Âç≥Â∫ß„Å´ 200 OK „ÇíËøîÂç¥„Åó„ÄÅBackgroundTasks „ÅßÈùûÂêåÊúüÂá¶ÁêÜ„ÇíÈñãÂßã„Åô„Çã
  - ÈáçË§áÈÄöÁü•„ÅÆÊ§úÂá∫Ê©üËÉΩ„ÇíÂÆüË£Ö„Åô„ÇãÔºàhistoryId „Éô„Éº„ÇπÔºâ
  - _Requirements: 1.1, 1.2_

- [x] 3.2 Gmail API „É°„Éº„É´ÂèñÂæóÊ©üËÉΩÂÆüË£Ö
  - Gmail API „Çí‰ΩøÁî®„Åó„Å¶„É°„Éº„É´Êú¨Êñá„ÇíÂèñÂæó„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - ÈÄÅ‰ø°ËÄÖÊÉÖÂ†±Ôºà„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„ÄÅÂêçÂâçÔºâ„ÇíÊäΩÂá∫„Åô„Çã
  - ÁôªÈå≤Ê∏à„ÅøÈÄ£Áµ°ÂÖà„Åã„Å©„ÅÜ„Åã„ÇíÊ§úË®º„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Êú™ÁôªÈå≤ÈÄ£Áµ°ÂÖà„ÅÆÂ†¥Âêà„ÅØÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åô„Çã
  - _Requirements: 1.3, 1.4_

- [x] 3.3 „É°„Éº„É´Âá¶ÁêÜ„Ç™„Éº„Ç±„Çπ„Éà„É¨„Éº„Ç∑„Éß„É≥ÂÆüË£Ö
  - „É°„Éº„É´ÂèñÂæó„Åã„Çâ„ÇÆ„É£„É´Ë™ûÂ§âÊèõ„ÄÅÈü≥Â£∞ÁîüÊàê„Åæ„Åß„ÅÆÂá¶ÁêÜ„Éï„É≠„Éº„ÇíÂÆüË£Ö„Åô„Çã
  - ÂêÑÂá¶ÁêÜÊÆµÈöé„Åß„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíÊõ¥Êñ∞„Åô„ÇãÔºàis_processed „Éï„É©„Ç∞ÁÆ°ÁêÜÔºâ
  - „Ç®„É©„ÉºÁô∫ÁîüÊôÇ„ÅÆ„É≠„Ç∞Ë®òÈå≤„Å®„É™„Éà„É©„Ç§Âá¶ÁêÜ„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 1.5, 2.1, 3.1_

#### üìã Phase 3 ÈñãÂßãÂâç„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **ÈñãÁô∫ËÄÖ„Å∏‰æùÈ†º**: Webhook Âèó‰ø°„ÅÆ„Åü„ÇÅ„Å´‰ª•‰∏ã„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
>
> **Google Cloud Console ‰ΩúÊ•≠**:
> - [x] Cloud Pub/Sub API „ÇíÊúâÂäπÂåñ„Åô„Çã
> - [x] Pub/Sub „Éà„Éî„ÉÉ„ÇØ„Çí‰ΩúÊàê„Åô„ÇãÔºà‰æã: `gmail-notifications`Ôºâ
> - [x] „Éà„Éî„ÉÉ„ÇØ„Å´ `gmail-api-push@system.gserviceaccount.com` „ÅÆ Publisher Ê®©Èôê„Çí‰ªò‰∏é„Åô„Çã
> - [x] Pub/Sub „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥„Çí‰ΩúÊàê„Åô„ÇãÔºàPush Âûã„ÄÅWebhook URL ÊåáÂÆöÔºâ
>
> **Cloud Run „Éá„Éó„É≠„Ç§**ÔºàWebhook Âèó‰ø°„ÅÆ„Åü„ÇÅÔºâ:
> - [x] Backend „Çí Cloud Run „Å´„Éá„Éó„É≠„Ç§„Åô„ÇãÔºàTerraform „Åæ„Åü„ÅØ „Ç≥„É≥„ÇΩ„Éº„É´Ôºâ
> - [x] Webhook URL „Çí Pub/Sub „Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥„Å´Ë®≠ÂÆö„Åô„Çã

#### üìã Phase 3 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **Gmail Watch Ë®≠ÂÆö**:
> - [x] Gmail API „ÅÆ `users.watch` „ÇíÂÆüË°å„Åó„Å¶„ÄÅPub/Sub „Éà„Éî„ÉÉ„ÇØ„Å∏„ÅÆÈÄöÁü•„ÇíÊúâÂäπÂåñ„Åô„Çã
>   ```bash
>   # „ÉØ„É≥„Ç∑„Éß„ÉÉ„Éà„Çπ„ÇØ„É™„Éó„Éà„Åæ„Åü„ÅØ gcloud „Ç≥„Éû„É≥„Éâ„ÅßÂÆüË°å
>   ```
>
> **Âãï‰ΩúÁ¢∫Ë™ç**:
> - [x] „ÉÜ„Çπ„Éà„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„ÄÅWebhook „ÅåÂèó‰ø°„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™çÔºà„É≠„Ç∞Á¢∫Ë™çÔºâ
> - [x] „É°„Éº„É´Êú¨Êñá„ÅåÂèñÂæó„Åß„Åç„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç

---

### Phase 4: AI „Çµ„Éº„Éì„ÇπÈÄ£Êê∫

- [x] 4. Gemini „ÇÆ„É£„É´Ë™ûÂ§âÊèõ„Çµ„Éº„Éì„Çπ
- [x] 4.1 Gemini API „ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÆüË£Ö
  - google-genai SDK „Çí‰ΩøÁî®„Åó„Åü API „ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - „ÇÆ„É£„É´Ë™ûÂ§âÊèõÁî®„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Éó„É≠„É≥„Éó„Éà„ÇíÂÆöÁæ©„Åô„Çã
  - ÈÄÅ‰ø°ËÄÖÂêç„Çí„Éó„É≠„É≥„Éó„Éà„Å´Âüã„ÇÅËæº„ÇÄÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 4.2 „ÇÆ„É£„É´Ë™ûÂ§âÊèõÂá¶ÁêÜÂÆüË£Ö
  - „É°„Éº„É´Êú¨Êñá„ÇíÂÖ•Âäõ„Å®„Åó„Å¶„ÇÆ„É£„É´Ë™û„Å´Â§âÊèõ„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Â§âÊèõÁµêÊûú„Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠ò„Åô„ÇãÔºàconverted_bodyÔºâ
  - API „Ç®„É©„ÉºÊôÇ„ÅÆ„É™„Éà„É©„Ç§Âá¶ÁêÜ„ÇíÂÆüË£Ö„Åô„ÇãÔºàÊåáÊï∞„Éê„ÉÉ„ÇØ„Ç™„ÉïÔºâ
  - _Requirements: 2.6, 2.7_

- [x] 5. Èü≥Â£∞ÂêàÊàê„Çµ„Éº„Éì„Çπ
- [x] 5.1 Cloud TTS API „ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÆüË£Ö
  - Google Cloud TTS SDK „Çí‰ΩøÁî®„Åó„ÅüÈü≥Â£∞ÂêàÊàêÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - Êó•Êú¨Ë™ûÂ•≥ÊÄßÈü≥Â£∞Ôºàja-JP-Wavenet-BÔºâ„ÇíË®≠ÂÆö„Åô„Çã
  - MP3 ÂΩ¢Âºè„ÅßÈü≥Â£∞„Éá„Éº„Çø„ÇíÁîüÊàê„Åô„Çã
  - _Requirements: 3.1, 3.2_

- [x] 5.2 GCS „Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÊ©üËÉΩÂÆüË£Ö
  - ÁîüÊàê„Åó„ÅüÈü≥Â£∞„Éï„Ç°„Ç§„É´„Çí Cloud Storage „Å´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - ÂÖ¨Èñã URL „ÇíÁîüÊàê„Åô„Çã
  - „Éï„Ç°„Ç§„É´Âêç„ÅÆÂëΩÂêçË¶èÂâá„ÇíÂÆüË£Ö„Åô„ÇãÔºà{email_id}_{timestamp}.mp3Ôºâ
  - _Requirements: 3.3, 3.4_

- [x] 5.3 Èü≥Â£∞Âá¶ÁêÜ„Éï„É≠„ÉºÁµ±Âêà
  - „ÇÆ„É£„É´Ë™ûÂ§âÊèõÂÆå‰∫ÜÂæå„Å´Èü≥Â£∞ÂêàÊàê„ÇíÂÆüË°å„Åô„ÇãÂá¶ÁêÜ„Éï„É≠„Éº„ÇíÁµ±Âêà„Åô„Çã
  - Èü≥Â£∞ URL „Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Å´‰øùÂ≠ò„Åô„ÇãÔºàaudio_urlÔºâ
  - ÂÖ®Âá¶ÁêÜÂÆå‰∫ÜÊôÇ„Å´ is_processed „Çí true „Å´Êõ¥Êñ∞„Åô„Çã
  - TTS API „Ç®„É©„ÉºÊôÇ„ÅÆ„É™„Éà„É©„Ç§Âá¶ÁêÜ„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 3.5, 3.6_

#### üìã Phase 4 ÈñãÂßãÂâç„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **ÈñãÁô∫ËÄÖ„Å∏‰æùÈ†º**: AI „Çµ„Éº„Éì„ÇπÂà©Áî®„ÅÆ„Åü„ÇÅ„Å´‰ª•‰∏ã„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
>
> **Google Cloud Console ‰ΩúÊ•≠**:
> - [x] Vertex AI API „Åæ„Åü„ÅØ Generative Language API „ÇíÊúâÂäπÂåñ„Åô„Çã
> - [x] Gemini API „Ç≠„Éº„ÇíÂèñÂæó„Åó„ÄÅÁí∞Â¢ÉÂ§âÊï∞„Å´Ë®≠ÂÆö„Åô„Çã
> - [x] Cloud Text-to-Speech API „ÇíÊúâÂäπÂåñ„Åô„Çã
>
> **Terraform ‰ΩúÊ•≠** (Cloud Storage „Éê„Ç±„ÉÉ„Éà):
> - [x] `infrastructures/terraform.tfvars` „Å´ `gemini_api_key` „ÇíË®≠ÂÆö„Åô„Çã
> - [x] `terraform plan` „ÅßÂ§âÊõ¥ÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åô„Çã
> - [x] `terraform apply` „ÅßCloud Storage„Éê„Ç±„ÉÉ„Éà„Çí‰ΩúÊàê„Åô„Çã
>   - „Éê„Ç±„ÉÉ„ÉàÂêç: `aitech-good-s15112-togenuki-audio`
>   - ÂÖ¨ÈñãË®≠ÂÆö: `allUsers` „Å´ `Storage Object Viewer` Ê®©ÈôêÔºàTerraformÁÆ°ÁêÜÔºâ
>   - ‚Äª Êú¨Áï™Áí∞Â¢É„Åß„ÅØÁΩ≤Âêç‰ªò„Åç URL „Çí‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ

#### üìã Phase 4 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **Âãï‰ΩúÁ¢∫Ë™ç**:
> - [x] „ÉÜ„Çπ„Éà„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åó„ÄÅ„ÇÆ„É£„É´Ë™ûÂ§âÊèõ„ÅåÂÆüË°å„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [x] Èü≥Â£∞„Éï„Ç°„Ç§„É´„Åå GCS „Å´„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [x] Èü≥Â£∞ URL „Å´„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶ÂÜçÁîü„Åß„Åç„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç

---

### Phase 5: „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ UI

- [ ] 6. „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâÊ©üËÉΩ
- [ ] 6.1 „É°„Éº„É´‰∏ÄË¶ßÂèñÂæó API ÂÆüË£Ö
  - GET /api/emails „Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂÆüË£Ö„Åô„Çã
  - Ë™çË®ºÊ∏à„Åø„É¶„Éº„Ç∂„Éº„ÅÆËá™ÂàÜ„ÅÆ„É°„Éº„É´„ÅÆ„ÅøÂèñÂæóÂèØËÉΩ„Å®„Åô„Çã
  - Âèó‰ø°Êó•ÊôÇ„ÅÆÈôçÈ†Ü„Åß„ÇΩ„Éº„Éà„Åô„Çã
  - _Requirements: 4.1, 4.2, 4.3, 6.5_

- [ ] 6.2 „É°„Éº„É´‰∏ÄË¶ß„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂÆüË£Ö
  - API „Åã„Çâ„É°„Éº„É´‰∏ÄË¶ß„ÇíÂèñÂæó„Åó„Å¶Ë°®Á§∫„Åô„ÇãÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - „Ç´„Éº„ÉâÂΩ¢Âºè„ÅßÈÄÅ‰ø°ËÄÖÂêç„ÄÅ‰ª∂Âêç„ÄÅÂ§âÊèõÂæå„ÉÜ„Ç≠„Çπ„Éà„ÇíË°®Á§∫„Åô„Çã
  - Âá¶ÁêÜ‰∏≠„ÅÆ„É°„Éº„É´Ôºàis_processed=falseÔºâ„Å´„ÅØ„É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫„ÇíË°å„ÅÜ
  - _Requirements: 4.3, 4.4, 4.5_

- [ ] 7. Èü≥Â£∞ÂÜçÁîüÊ©üËÉΩ
- [ ] 7.1 Èü≥Â£∞„Éó„É¨„Ç§„É§„Éº„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂÆüË£Ö
  - HTML5 Audio „Çí‰ΩøÁî®„Åó„ÅüÈü≥Â£∞ÂÜçÁîüÊ©üËÉΩ„ÇíÂÆüË£Ö„Åô„Çã
  - ÂÜçÁîü„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„ÅøÂÜçÁîü„Åô„Çã
  - ÂÜçÁîü‰∏≠„ÅØÂÅúÊ≠¢„Éú„Çø„É≥„Å´Âàá„ÇäÊõø„Åà„Çã
  - ÂÅúÊ≠¢„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ„ÅßÈü≥Â£∞ÂÜçÁîü„ÇíÂÅúÊ≠¢„Åô„Çã
  - ÂÜçÁîüÂÆå‰∫ÜÊôÇ„Å´„Éú„Çø„É≥Áä∂ÊÖã„ÇíÂÖÉ„Å´Êàª„Åô
  - _Requirements: 5.1, 5.2, 5.3, 5.4_

- [ ] 7.2 Èü≥Â£∞ÂÜçÁîü„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ÂÆüË£Ö
  - Èü≥Â£∞„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÂ§±ÊïóÊôÇ„ÅÆ„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏Ë°®Á§∫„ÇíÂÆüË£Ö„Åô„Çã
  - „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç®„É©„ÉºÁ≠â„ÅÆ‰æãÂ§ñÂá¶ÁêÜ„ÇíÂÆüË£Ö„Åô„Çã
  - _Requirements: 5.5_

#### üìã Phase 5 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠

> **Âãï‰ΩúÁ¢∫Ë™ç**:
> - [ ] „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Å´„É°„Éº„É´‰∏ÄË¶ß„ÅåË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [ ] „Ç´„Éº„ÉâÂΩ¢Âºè„ÅßÈÄÅ‰ø°ËÄÖÂêç„ÄÅ‰ª∂Âêç„ÄÅÂ§âÊèõÂæå„ÉÜ„Ç≠„Çπ„Éà„ÅåË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [ ] ÂÜçÁîü„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Èü≥Â£∞„ÅåÂÜçÁîü„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [ ] ÂÅúÊ≠¢„Éú„Çø„É≥„ÅßÈü≥Â£∞„ÅåÂÅúÊ≠¢„Åô„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç

---

### Phase 6: Áµ±Âêà„Å®„ÉÜ„Çπ„Éà

- [ ] 8. „Ç®„É≥„Éâ„ÉÑ„Éº„Ç®„É≥„ÉâÁµ±Âêà
- [ ] 8.1 „É°„Éº„É´Âèó‰ø°„Åã„ÇâÈü≥Â£∞ÂÜçÁîü„Åæ„Åß„ÅÆÁµ±Âêà„ÉÜ„Çπ„Éà
  - Pub/Sub Webhook ‚Üí „É°„Éº„É´ÂèñÂæó ‚Üí „ÇÆ„É£„É´Ë™ûÂ§âÊèõ ‚Üí Èü≥Â£∞ÁîüÊàê ‚Üí DB‰øùÂ≠ò„ÅÆ„Éï„É≠„ÉºÁ¢∫Ë™ç
  - „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâË°®Á§∫ ‚Üí Èü≥Â£∞ÂÜçÁîü„ÅÆ„Éï„É≠„ÉºÁ¢∫Ë™ç
  - Ë™çË®º„Éï„É≠„ÉºÔºàFirebase ‚Üí Gmail OAuthÔºâ„ÅÆÁ¢∫Ë™ç
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5, 2.1, 2.6, 3.1, 3.3, 3.5, 4.1, 5.1, 6.1, 6.2, 6.3_

- [ ]* 8.2 „É¶„Éã„ÉÉ„Éà„ÉÜ„Çπ„ÉàÂÆüË£Ö
  - GeminiService „ÅÆ„ÉÜ„Çπ„ÉàÔºà„Éó„É≠„É≥„Éó„ÉàÁîüÊàê„ÄÅ„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞Ôºâ
  - TTSService „ÅÆ„ÉÜ„Çπ„ÉàÔºàÈü≥Â£∞ÂêàÊàê„ÄÅGCS „Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÔºâ
  - AuthMiddleware „ÅÆ„ÉÜ„Çπ„ÉàÔºà„Éà„Éº„ÇØ„É≥Ê§úË®º„ÄÅ„Ç®„É©„Éº„Ç±„Éº„ÇπÔºâ
  - EmailProcessor „ÅÆ„ÉÜ„Çπ„ÉàÔºàÂá¶ÁêÜ„Éï„É≠„Éº„ÄÅÈÄ£Áµ°ÂÖà„ÉÅ„Çß„ÉÉ„ÇØÔºâ
  - _Requirements: 2.7, 3.6, 6.4_

#### üìã Phase 6 ÁµÇ‰∫ÜÊôÇ„ÅÆ„É¶„Éº„Ç∂„Éº‰ΩúÊ•≠Ôºà„Éá„É¢Ê∫ñÂÇôÔºâ

> **„Ç®„É≥„Éâ„ÉÑ„Éº„Ç®„É≥„ÉâÂãï‰ΩúÁ¢∫Ë™ç**:
> - [ ] ‰∏äÂè∏ÂΩπ„Ç¢„Ç´„Ç¶„É≥„Éà„Åã„Çâ„ÄåËá≥ÊÄ•ÔºÅÔºÅ„Äç„Å™„Å©„ÅÆ„É°„Éº„É´„ÇíÈÄÅ‰ø°„Åô„Çã
> - [ ] „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Åß„É°„Éº„É´„ÅåË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
> - [ ] „ÇÆ„É£„É´Ë™û„Å´Â§âÊèõ„Åï„Çå„Åü„ÉÜ„Ç≠„Çπ„Éà„ÇíÁ¢∫Ë™ç
> - [ ] ÂÜçÁîü„Éú„Çø„É≥„ÅßÈü≥Â£∞„ÇíËÅ¥„Åç„ÄÅ„ÇÆ„É£„É´Âè£Ë™ø„ÅßË™≠„Åø‰∏ä„Åí„Çâ„Çå„Çã„Åì„Å®„ÇíÁ¢∫Ë™ç
>
> **„Éá„É¢„Ç∑„Éä„É™„Ç™„É™„Éè„Éº„Çµ„É´**:
> - [ ] „É≠„Ç∞„Ç§„É≥ ‚Üí GmailÈÄ£Êê∫ ‚Üí „É°„Éº„É´Âèó‰ø° ‚Üí Èü≥Â£∞ÂÜçÁîü „ÅÆ‰∏ÄÈÄ£„ÅÆ„Éï„É≠„Éº„Çí„É™„Éè„Éº„Çµ„É´

---

## Requirements Coverage

| Requirement | Tasks |
|-------------|-------|
| 1.1 | 3.1, 8.1 |
| 1.2 | 1.1, 3.1, 8.1 |
| 1.3 | 2.2, 2.3, 3.2, 8.1 |
| 1.4 | 3.2, 8.1 |
| 1.5 | 1.2, 3.3, 8.1 |
| 2.1 | 3.3, 4.1, 8.1 |
| 2.2 | 4.1 |
| 2.3 | 4.1 |
| 2.4 | 4.1 |
| 2.5 | 4.1 |
| 2.6 | 4.2, 8.1 |
| 2.7 | 4.2, 8.2 |
| 3.1 | 3.3, 5.1, 8.1 |
| 3.2 | 5.1 |
| 3.3 | 5.2, 8.1 |
| 3.4 | 5.2 |
| 3.5 | 5.3, 8.1 |
| 3.6 | 5.3, 8.2 |
| 4.1 | 1.3, 6.1, 8.1 |
| 4.2 | 6.1 |
| 4.3 | 6.1, 6.2 |
| 4.4 | 6.2 |
| 4.5 | 6.2 |
| 5.1 | 7.1, 8.1 |
| 5.2 | 7.1 |
| 5.3 | 7.1 |
| 5.4 | 7.1 |
| 5.5 | 7.2 |
| 6.1 | 2.2, 2.3, 2.4, 8.1 |
| 6.2 | 2.2, 2.3, 2.4, 8.1 |
| 6.3 | 2.1, 8.1 |
| 6.4 | 2.1, 8.2 |
| 6.5 | 1.2, 2.1, 6.1 |

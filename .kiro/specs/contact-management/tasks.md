# Implementation Plan

## Task Overview

é€£çµ¡å…ˆç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…ã‚¿ã‚¹ã‚¯ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€å­¦ç¿’å‡¦ç†ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UIã‚’æ®µéšçš„ã«æ§‹ç¯‰ã™ã‚‹ã€‚

---

## Tasks

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ

- [x] 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- [x] 1.1 ContactContextãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹
  - ContactContextãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆid, contact_id, learned_patterns, updated_atï¼‰ã‚’ä½œæˆ
  - contact_idã«å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã¨UNIQUEåˆ¶ç´„ã‚’è¨­å®š
  - ON DELETE CASCADEã§é€£çµ¡å…ˆå‰Šé™¤æ™‚ã«è‡ªå‹•å‰Šé™¤
  - _Requirements: 4.5_

- [x] 1.2 Contactãƒ¢ãƒ‡ãƒ«ã«learning_failed_atã‚«ãƒ©ãƒ ã‚’è¿½åŠ ã™ã‚‹
  - æ—¢å­˜ã®contactsãƒ†ãƒ¼ãƒ–ãƒ«ã«learning_failed_atï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼‰ã‚’è¿½åŠ 
  - å­¦ç¿’å¤±æ•—æ™‚ã®ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’è¨˜éŒ²å¯èƒ½ã«ã™ã‚‹
  - _Requirements: 4.7_

#### ğŸ“‹ Phase 1 çµ‚äº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­

> **é–‹ç™ºè€…ã¸ä¾é ¼**: ä»¥ä¸‹ã®ä½œæ¥­ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚
>
> **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ**:
> - [x] `alembic upgrade head` ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ã™ã‚‹
> - [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã« `contact_context` ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹
> - [x] `contacts` ãƒ†ãƒ¼ãƒ–ãƒ«ã« `learning_failed_at` ã‚«ãƒ©ãƒ ãŒè¿½åŠ ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã™ã‚‹

---

### Phase 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…

- [x] 2. ContactRepositoryã®å®Ÿè£…
- [x] 2.1 (P) é€£çµ¡å…ˆä½œæˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»åå‰ãƒ»Gmailæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’å—ã‘å–ã‚Šã€contactsãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ
  - is_learning_complete=falseã§åˆæœŸåŒ–
  - åŒä¸€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»åŒä¸€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é‡è¤‡ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€é‡è¤‡æ™‚ã¯ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼
  - _Requirements: 1.1, 1.3, 1.4_

- [x] 2.2 (P) é€£çµ¡å…ˆä¸€è¦§å–å¾—æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã«ç´ã¥ãé€£çµ¡å…ˆã®ã¿ã‚’å–å¾—
  - å­¦ç¿’çŠ¶æ…‹ï¼ˆis_learning_complete, learning_failed_atï¼‰ã‚’å«ã‚ã¦è¿”å´
  - _Requirements: 2.5, 6.3_

- [x] 2.3 (P) é€£çµ¡å…ˆå‰Šé™¤æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  - é€£çµ¡å…ˆIDã§æŒ‡å®šã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ï¼ˆé–¢é€£ã™ã‚‹contact_contextã¯CASCADEã§è‡ªå‹•å‰Šé™¤ï¼‰
  - å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€å­˜åœ¨ã—ãªã„å ´åˆã¯Noneã‚’è¿”å´
  - _Requirements: 3.3, 3.5_

- [x] 2.4 (P) å­¦ç¿’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿å­˜æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  - contact_contextãƒ†ãƒ¼ãƒ–ãƒ«ã«å­¦ç¿’çµæœï¼ˆlearned_patterns JSONï¼‰ã‚’ä¿å­˜
  - å­¦ç¿’å®Œäº†æ™‚ã«is_learning_complete=trueã«æ›´æ–°ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚å®Ÿè£…
  - _Requirements: 4.5, 4.6_

- [x] 3. GmailApiClientã®æ‹¡å¼µ
- [x] 3.1 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œç´¢æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹
  - Gmailæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨ã—ã¦éå»ãƒ¡ãƒ¼ãƒ«ã‚’æ¤œç´¢
  - æœ€å¤§30ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDãƒªã‚¹ãƒˆã‚’å–å¾—
  - Gmail APIã‚¨ãƒ©ãƒ¼æ™‚ã¯ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ï¼ˆå‘¼ã³å‡ºã—å…ƒã§ãƒ­ã‚°è¨˜éŒ²ï¼‰
  - _Requirements: 4.2, 4.7_

- [x] 4. GeminiServiceã®æ‹¡å¼µ
- [x] 4.1 ãƒ¡ãƒ¼ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†ææ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹
  - é€£çµ¡å…ˆåã¨ãƒ¡ãƒ¼ãƒ«å±¥æ­´ã‚’å—ã‘å–ã‚Šã€ç›¸æ‰‹ã®ç‰¹å¾´ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¿”ä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æ
  - åˆ†æçµæœã‚’JSONå½¢å¼ã§è¿”å´ï¼ˆcontactCharacteristics, userReplyPatternsï¼‰
  - ã‚¨ãƒ©ãƒ¼æ™‚ã¯Resultå‹ã§ã‚¨ãƒ©ãƒ¼ã‚’è¿”å´
  - _Requirements: 4.3, 4.4_

- [x] 5. LearningServiceã®å®Ÿè£…
- [x] 5.1 å­¦ç¿’å‡¦ç†ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹
  - é€£çµ¡å…ˆç™»éŒ²å¾Œã«éåŒæœŸã§å‘¼ã³å‡ºã•ã‚Œã‚‹å­¦ç¿’å‡¦ç†
  - Gmail APIã§éå»ãƒ¡ãƒ¼ãƒ«30ä»¶ã‚’å–å¾—
  - Gemini APIã§ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æã‚’å®Ÿè¡Œ
  - çµæœã‚’contact_contextã«ä¿å­˜ã—ã€is_learning_complete=trueã«æ›´æ–°
  - Gmail APIã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ­ã‚°è¨˜éŒ²ã—ã¦learning_failed_atã‚’è¨­å®š
  - Gemini APIã‚¨ãƒ©ãƒ¼æ™‚ã¯æœ€å¤§3å›ãƒªãƒˆãƒ©ã‚¤
  - _Requirements: 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8_

#### ğŸ“‹ Phase 2 çµ‚äº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­

> **é–‹ç™ºè€…ã¸ä¾é ¼**: ä»¥ä¸‹ã®å‹•ä½œç¢ºèªã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚
>
> **å‹•ä½œç¢ºèª**ï¼ˆpytest ã¾ãŸã¯æ‰‹å‹•ãƒ†ã‚¹ãƒˆï¼‰:
> - [x] ContactRepository ã®å„ãƒ¡ã‚½ãƒƒãƒ‰ãŒDBã«æ­£ã—ãèª­ã¿æ›¸ãã§ãã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] GmailApiClient.search_messages() ãŒGmail APIã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] GeminiService.analyze_patterns() ãŒãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æçµæœã‚’è¿”å´ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] LearningService.process_learning() ãŒã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã§å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
>
> **æ³¨æ„äº‹é …**:
> - Gmail API ã¨ Gemini API ã®å‘¼ã³å‡ºã—ã«ã¯æœ‰åŠ¹ãªèªè¨¼æƒ…å ±ãŒå¿…è¦ã§ã™
> - ãƒ†ã‚¹ãƒˆç”¨ã®é€£çµ¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç”¨æ„ã—ã¦ãã ã•ã„ï¼ˆéå»ã«ã‚„ã‚Šå–ã‚ŠãŒã‚ã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹æ¨å¥¨ï¼‰

---

### Phase 3: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…

- [x] 6. ContactsRouterã®å®Ÿè£…
- [x] 6.1 é€£çµ¡å…ˆç™»éŒ²ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹
  - POST /api/contactsã§ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»åå‰ãƒ»Gmailæ¤œç´¢ã‚¯ã‚¨ãƒªã‚’å—ã‘å–ã‚‹
  - Firebase ID Tokenèªè¨¼ã‚’å¿…é ˆã¨ã™ã‚‹
  - ç™»éŒ²å¾Œã«BackgroundTasksã§å­¦ç¿’å‡¦ç†ã‚’èµ·å‹•
  - å³åº§ã«201 Createdã¨contact_idã€status: "learning_started"ã‚’è¿”å´
  - é‡è¤‡æ™‚ã¯409 Conflictã‚’è¿”å´
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 1.5, 6.1, 6.2_

- [x] 6.2 é€£çµ¡å…ˆä¸€è¦§å–å¾—ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹
  - GET /api/contactsã§èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é€£çµ¡å…ˆä¸€è¦§ã‚’è¿”å´
  - å„é€£çµ¡å…ˆã®å­¦ç¿’çŠ¶æ…‹ã‚’å«ã‚€
  - ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é€£çµ¡å…ˆã¯è¿”å´ã—ãªã„
  - _Requirements: 2.1, 2.5, 6.1, 6.2, 6.3_

- [x] 6.3 é€£çµ¡å…ˆå‰Šé™¤ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹
  - DELETE /api/contacts/{id}ã§é€£çµ¡å…ˆã‚’å‰Šé™¤
  - ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é€£çµ¡å…ˆå‰Šé™¤æ™‚ã¯403 Forbidden
  - å­˜åœ¨ã—ãªã„é€£çµ¡å…ˆå‰Šé™¤æ™‚ã¯404 Not Found
  - _Requirements: 3.2, 3.3, 3.4, 3.5, 6.1, 6.2, 6.4_

#### ğŸ“‹ Phase 3 çµ‚äº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­

> **é–‹ç™ºè€…ã¸ä¾é ¼**: API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å‹•ä½œç¢ºèªã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚
>
> **å‹•ä½œç¢ºèª**ï¼ˆcurl ã¾ãŸã¯ Swagger UIï¼‰:
> - [x] `POST /api/contacts` ã§é€£çµ¡å…ˆãŒç™»éŒ²ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ201 Createdï¼‰
> - [x] ç™»éŒ²å¾Œã™ãã« `201 Created` ã¨ `status: "learning_started"` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] `GET /api/contacts` ã§é€£çµ¡å…ˆä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ200 OKï¼‰
> - [x] `DELETE /api/contacts/{id}` ã§é€£çµ¡å…ˆãŒå‰Šé™¤ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ204 No Contentï¼‰
> - [x] ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é€£çµ¡å…ˆæ“ä½œæ™‚ã« `403 Forbidden` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§æ¤œè¨¼æ¸ˆã¿ï¼‰
> - [x] èªè¨¼ãªã—ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã« `401 Unauthorized` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] é‡è¤‡ç™»éŒ²æ™‚ã« `409 Conflict` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] å­˜åœ¨ã—ãªã„IDå‰Šé™¤æ™‚ã« `404 Not Found` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [x] ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ã§ `422 Unprocessable Entity` ãŒè¿”å´ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
>
> **Cloud Run ãƒ‡ãƒ—ãƒ­ã‚¤**ï¼ˆæœ¬ç•ªç’°å¢ƒãƒ†ã‚¹ãƒˆã®å ´åˆï¼‰:
> - [x] Backend ã‚’ Cloud Run ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹
> - [x] ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§å‹•ä½œç¢ºèª
>
> **ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ**: `apps/api/scripts/test_contacts_api.sh`

---

### Phase 4: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UIå®Ÿè£…

- [ ] 7. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£çµ¡å…ˆç®¡ç†UI
- [ ] 7.1 é€£çµ¡å…ˆç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚’å®Ÿè£…ã™ã‚‹
  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆå¿…é ˆï¼‰ã€åå‰ï¼ˆä»»æ„ï¼‰ã€Gmailæ¤œç´¢ã‚¯ã‚¨ãƒªï¼ˆä»»æ„ï¼‰å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
  - Firebase ID Tokenã‚’å«ã‚ã¦POST /api/contactsã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
  - é€ä¿¡æˆåŠŸå¾Œã¯é€£çµ¡å…ˆä¸€è¦§ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - _Requirements: 1.5_

- [ ] 7.2 é€£çµ¡å…ˆä¸€è¦§è¡¨ç¤ºã‚’å®Ÿè£…ã™ã‚‹
  - GET /api/contactsã§é€£çµ¡å…ˆä¸€è¦§ã‚’å–å¾—ãƒ»è¡¨ç¤º
  - å„é€£çµ¡å…ˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€åå‰ã€å­¦ç¿’çŠ¶æ…‹ã‚’è¡¨ç¤º
  - å­¦ç¿’ä¸­ï¼ˆis_learning_complete=falseï¼‰ã®é€£çµ¡å…ˆã«ã¯ã€Œå­¦ç¿’ä¸­ã€ãƒ©ãƒ™ãƒ«ã¾ãŸã¯ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
  - å­¦ç¿’å®Œäº†ï¼ˆis_learning_complete=trueï¼‰ã®é€£çµ¡å…ˆã«ã¯ã€Œå­¦ç¿’å®Œäº†ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
  - _Requirements: 2.1, 2.2, 2.3, 2.4_

- [ ] 7.3 å­¦ç¿’çŠ¶æ…‹ãƒãƒ¼ãƒªãƒ³ã‚°ã‚’å®Ÿè£…ã™ã‚‹
  - 30ç§’é–“éš”ã§é€£çµ¡å…ˆä¸€è¦§ã‚’ãƒãƒ¼ãƒªãƒ³ã‚°
  - å­¦ç¿’çŠ¶æ…‹ã®å¤‰åŒ–ã‚’UIä¸Šã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ 
  - å­¦ç¿’å¤±æ•—æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å†è©¦è¡Œãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
  - _Requirements: 5.1, 5.2, 5.3_

- [ ] 7.4 é€£çµ¡å…ˆå‰Šé™¤æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹
  - å„é€£çµ¡å…ˆã«å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’é…ç½®
  - å‰Šé™¤ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
  - ç¢ºèªå¾Œã«DELETE /api/contacts/{id}ã‚’å‘¼ã³å‡ºã—
  - å‰Šé™¤æˆåŠŸå¾Œã¯é€£çµ¡å…ˆä¸€è¦§ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
  - _Requirements: 3.1, 3.2_

#### ğŸ“‹ Phase 4 çµ‚äº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­

> **é–‹ç™ºè€…ã¸ä¾é ¼**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UIã®å‹•ä½œç¢ºèªã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚
>
> **å‹•ä½œç¢ºèª**:
> - [ ] é€£çµ¡å…ˆç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ã¦é€ä¿¡ã§ãã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] é€£çµ¡å…ˆä¸€è¦§ã«ç™»éŒ²ã—ãŸé€£çµ¡å…ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] å­¦ç¿’ä¸­ã®é€£çµ¡å…ˆã«ã€Œå­¦ç¿’ä¸­ã€ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] å­¦ç¿’å®Œäº†å¾Œã«ã€Œå­¦ç¿’å®Œäº†ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«å¤‰ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆ30ç§’ãƒãƒ¼ãƒªãƒ³ã‚°ï¼‰
> - [ ] å‰Šé™¤ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] å‰Šé™¤ç¢ºèªå¾Œã«é€£çµ¡å…ˆãŒä¸€è¦§ã‹ã‚‰æ¶ˆãˆã‚‹ã“ã¨ã‚’ç¢ºèª
>
> **ãƒ‡ãƒ—ãƒ­ã‚¤**:
> - [ ] `npm run build` ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] Cloud Run ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿè¡Œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

---

### Phase 5: çµ±åˆãƒ†ã‚¹ãƒˆ

- [ ] 8. ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰çµ±åˆ
- [ ] 8.1 é€£çµ¡å…ˆç™»éŒ²ãƒ»å­¦ç¿’ãƒ»å®Œäº†ãƒ•ãƒ­ãƒ¼ã‚’çµ±åˆãƒ†ã‚¹ãƒˆã™ã‚‹
  - é€£çµ¡å…ˆç™»éŒ²â†’å­¦ç¿’å‡¦ç†â†’å®Œäº†ã¾ã§ã®ä¸€é€£ã®ãƒ•ãƒ­ãƒ¼ã‚’æ¤œè¨¼
  - ãƒãƒ¼ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹å­¦ç¿’çŠ¶æ…‹æ›´æ–°ã‚’ç¢ºèª
  - å‰Šé™¤ãƒ•ãƒ­ãƒ¼ã¨ContactContexté€£æºã‚’ç¢ºèª
  - _Requirements: 1.1, 1.2, 4.1, 4.5, 4.6, 5.1, 5.2_

#### ğŸ“‹ Phase 5 çµ‚äº†æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæ¥­ï¼ˆãƒ‡ãƒ¢æº–å‚™ï¼‰

> **é–‹ç™ºè€…ã¸ä¾é ¼**: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®å‹•ä½œç¢ºèªã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚
>
> **ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰å‹•ä½œç¢ºèª**:
> - [ ] ãƒ­ã‚°ã‚¤ãƒ³ â†’ Gmailé€£æº â†’ é€£çµ¡å…ˆç™»éŒ² ã®ä¸€é€£ã®ãƒ•ãƒ­ãƒ¼ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] ä¸Šå¸ãƒ»å–å¼•å…ˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’é€£çµ¡å…ˆã¨ã—ã¦ç™»éŒ²ã™ã‚‹
> - [ ] å­¦ç¿’å‡¦ç†ãŒå®Œäº†ã—ã€ã€Œå­¦ç¿’å®Œäº†ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] ç™»éŒ²ã—ãŸé€£çµ¡å…ˆã‹ã‚‰ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
> - [ ] é€£çµ¡å…ˆã‚’å‰Šé™¤ã—ã€é–¢é€£ãƒ‡ãƒ¼ã‚¿ï¼ˆcontact_contextï¼‰ã‚‚å‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
>
> **ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ªãƒªãƒãƒ¼ã‚µãƒ«**:
> - [ ] é€£çµ¡å…ˆç®¡ç†ç”»é¢ã¸ã®å°ç·šã‚’ç¢ºèª
> - [ ] é€£çµ¡å…ˆç™»éŒ² â†’ å­¦ç¿’å®Œäº† â†’ ãƒ¡ãƒ¼ãƒ«å—ä¿¡ãƒ»å¤‰æ›ãƒ»å†ç”Ÿ ã®ä¸€é€£ã®ãƒ•ãƒ­ãƒ¼ã‚’ãƒªãƒãƒ¼ã‚µãƒ«

---

## Requirements Coverage

| Requirement | Tasks |
|-------------|-------|
| 1.1 | 2.1, 6.1, 8.1 |
| 1.2 | 6.1, 8.1 |
| 1.3 | 2.1, 6.1 |
| 1.4 | 2.1, 6.1 |
| 1.5 | 6.1, 7.1 |
| 2.1 | 6.2, 7.2 |
| 2.2 | 7.2 |
| 2.3 | 7.2 |
| 2.4 | 7.2 |
| 2.5 | 2.2, 6.2 |
| 3.1 | 7.4 |
| 3.2 | 6.3, 7.4 |
| 3.3 | 2.3, 6.3 |
| 3.4 | 6.3 |
| 3.5 | 2.3, 6.3 |
| 4.1 | 5.1, 8.1 |
| 4.2 | 3.1, 5.1 |
| 4.3 | 4.1, 5.1 |
| 4.4 | 4.1, 5.1 |
| 4.5 | 1.1, 2.4, 5.1, 8.1 |
| 4.6 | 2.4, 5.1, 8.1 |
| 4.7 | 1.2, 3.1, 5.1 |
| 4.8 | 5.1 |
| 5.1 | 7.3, 8.1 |
| 5.2 | 7.3, 8.1 |
| 5.3 | 7.3 |
| 6.1 | 6.1, 6.2, 6.3 |
| 6.2 | 6.1, 6.2, 6.3 |
| 6.3 | 2.2, 6.2 |
| 6.4 | 6.3 |
